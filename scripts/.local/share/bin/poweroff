#!/usr/bin/env bash

sep='\n'
shutdown="󰐥 shutdown"
reboot="󰜉 reboot"
sleep="󰤄 sleep"
lock="󰌾 lock"
logout="󰍃 logout"

prompt() {
	echo "$shutdown|$reboot|$sleep|$lock|$logout" |
		rofi -theme $XDG_CONFIG_HOME/rofi/style.rasi -dmenu -p "Goodbye, $USER: " -mesg "$(uptime -p)" -sep '|'
}

run_cmd() {
	selected=$(prompt)
	if [[ $selected == $shutdown ]]; then
		shutdown now
	elif [[ $selected == $reboot ]]; then
		reboot
	elif [[ $selected == $sleep ]]; then
		systemctl suspend
	elif [[ $selected == $lock ]]; then
		hyprlock
	elif [[ $selected == $logout ]]; then
		hyprctl dispatch exit
	fi
}

run_cmd
